(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{153:function(e,t,a){e.exports=a.p+"static/media/office.a3e44141.png"},155:function(e,t,a){e.exports=a(297)},237:function(e,t){},274:function(e,t,a){},296:function(e,t,a){},297:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a.n(s),n=a(27),c=a.n(n),o=a(28),l=a(10),i=a(151),u=(a(229),a(230),a(4)),m=a.n(u),d=a(61);a(274);class p extends r.a.Component{constructor(...e){super(...e),this.state={createdAt:m()(),calFocussed:!1,categoryObj:{},categoryCnt:1,category:"Miscellaneous",text:"",data:[],onSubmit:!1},this.Submit=e=>{e.preventDefault()},this.handleSubmit=()=>{0===this.state.data.length?alert("PLEASE ENTER WORK DONE AND CLICK ON + BEFORE SUBMIT"):this.setState({onSubmit:!this.state.onSubmit})}}componentDidUpdate(e,t){t.onSubmit!==this.state.onSubmit&&(console.log("SUBMITTING THE PROPS OUT OF STATUSFORM"),this.props.onSubmit({createdAt:this.state.createdAt,calFocussed:this.state.calFocussed,categoryObj:this.state.categoryObj,categoryCnt:this.state.categoryCnt,category:this.state.category,text:this.state.text,data:this.state.data,onSubmit:this.state.onSubmit})),t.data,this.state.data}render(){return r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"create"},r.a.createElement("form",{className:"myForm",onSubmit:this.Submit},r.a.createElement("div",{className:"addRepDiv"},r.a.createElement(i.SingleDatePicker,{date:this.state.createdAt,onDateChange:e=>{e&&this.setState({createdAt:e})},focused:this.state.calFocussed,onFocusChange:({focused:e})=>{this.setState({calFocussed:e})},numberOfMonths:1,isOutsideRange:()=>!1}),r.a.createElement("select",{className:"options",onChange:e=>{"Category"!==e.target.value&&this.setState({category:e.target.value})}},r.a.createElement("option",{value:"React"},"React"),r.a.createElement("option",{value:"Adishwar"},"Adishwar"),r.a.createElement("option",{value:"Javascript"},"Javascript"),r.a.createElement("option",{value:"Resume"},"Resume"),r.a.createElement("option",{value:"Css animation"},"Css animation"),r.a.createElement("option",{value:"WowExp"},"WowExp"),r.a.createElement("option",{value:"LogoDesign"},"LogoDesign"),r.a.createElement("option",{value:"CharDesign"},"CharDesign"),r.a.createElement("option",{value:"Comicstrip"},"Comicstrip"),r.a.createElement("option",{value:"UIDesign"},"UIDesign"),r.a.createElement("option",{value:"Category",selected:!0},"Category")),r.a.createElement("textarea",{className:"textarea1",placeholder:"ENTER WORK DONE",value:this.state.text,name:"textElm",onInput:e=>{this.setState({text:e.target.value}),e.target.value=""}}),r.a.createElement("button",{className:"addReportBtn",onClick:e=>{if(this.state.text.length>0&&""!==this.state.text){console.log("ADD REPORT NOW"),this.setState({categoryCnt:this.state.categoryCnt+1});const e=this.state.category,t=this.state.text;console.log("text:-"+t);const a={};a[e]=t,this.setState({categoryObj:Object.assign({},this.state.categoryObj,a)}),console.log("categoryObj",JSON.stringify(this.state.categoryObj,null,4)),this.setState({text:""});let s={date:this.state.createdAt.format("LL"),category:this.state.category,status:this.state.text};console.log("DATAOBJ:-"+JSON.stringify(s,null,4)),this.setState({data:this.state.data.concat(s)}),console.log("NEW DATA NOW:-"+JSON.stringify(this.state.data,null,4))}else alert("NO STATUS REPORT ENTERED")}}," ","+")),r.a.createElement("div",{className:"submitRepDiv"},r.a.createElement(d.a,{className:"-striped -highlight",data:this.state.data,columns:[{Header:"Date",accessor:"date"},{Header:"Category",accessor:"category"},{Header:"Status",accessor:"status"}],defaultSorted:[{id:"this.state.category",desc:!0}]}),r.a.createElement("div",{className:"submitReportBtn"},r.a.createElement("button",{onClick:this.handleSubmit},"Submit Report"))))))}}var g=p,S=a(14),E=a.n(S),b=a(3),h=a(29);const O="http://localhost:5000/userauth",f={"Access-Control-Allow-Origin":"*","Content-Type":"application/json"};var v=a(48),N=a.n(v);const j=e=>function(){var t=Object(h.a)(E.a.mark((function t(a){var s,r,n,c;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("sending the axios post for ",e),s=JSON.parse(localStorage.getItem("jwt")).trim(),r=JSON.parse(localStorage.getItem("signInInfo"))._id,n=e.data.map(e=>Object(b.a)(Object(b.a)({},e),{},{userIdForBackend:r})),console.log("reportsWithUserIdAppended",n),a({type:"STATUS_REP_LOADING"}),t.prev=6,t.next=9,N.a.post("".concat("http://localhost:5000/status","/poststatus/").concat(r),{reportsWithUserIdAppended:n,userIdForBackend:r},{headers:Object(b.a)(Object(b.a)({},f),{},{Authorization:"Bearer ".concat(s)})});case 9:return c=t.sent,console.log("response back from server in postStatusAction",c),c.data?a({type:"STATUS_REP_SUCCESS",data:c.data}):a({type:"STATUS_REP_FAILURE"}),t.abrupt("return",c);case 15:return t.prev=15,t.t0=t.catch(6),a({type:"STATUS_REP_FAILURE"}),t.abrupt("return",t.t0.response);case 19:case"end":return t.stop()}}),t,null,[[6,15]])})));return function(e){return t.apply(this,arguments)}}(),I=()=>function(){var e=Object(h.a)(E.a.mark((function e(t){var a,s,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.parse(localStorage.getItem("jwt")).trim(),s=JSON.parse(localStorage.getItem("signInInfo"))._id,console.log("axios get for ",s),console.log("axios get for ",a),t({type:"GET_ALL_STATUS_REP_LOADING"}),e.prev=5,e.next=8,N.a.get("".concat("http://localhost:5000/status","/getallstatus/").concat(s),{headers:Object(b.a)(Object(b.a)({},f),{},{Authorization:"Bearer ".concat(a)})});case 8:return r=e.sent,console.log("response back from server in GETALLSTATUSACTION",r),r.data?t({type:"GET_ALL_STATUS_REP_SUCCESS",data:r.data}):t({type:"GET_ALL_STATUS_REP_FAILURE"}),e.abrupt("return",r);case 14:return e.prev=14,e.t0=e.catch(5),t({type:"GET_ALL_STATUS_REP_FAILURE"}),e.abrupt("return",e.t0.response);case 18:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}();class A extends s.Component{render(){return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"appTitle"},r.a.createElement("h1",null,"StaRt.. A Status Reporting Tool")),r.a.createElement("div",{className:"navLinks"},r.a.createElement(o.b,{to:"/create",className:"addBtn",activeClassName:"activeButton"},"ADD"),r.a.createElement(o.b,{to:"/view",className:"viewBtn",activeClassName:"activeButton"},"VIEW")))}}var y=A,T=a(13);var R=()=>{const e=Object(T.c)();return r.a.createElement("div",null,r.a.createElement(y,null),r.a.createElement(g,{onSubmit:t=>{console.log("INSIDE Create.JS PROPS:-",t),e(j(t))}}))};a(294);class w extends r.a.Component{render(){const e=this.props.data,t=[{Header:"Click to Sort",accessor:"date",sortMethod:(e,t)=>{let a=/(\d{1,3})/;if(e.match(a)&&t.match(a))return parseInt(e.match(a)[0])<parseInt(t.match(a)[0])?1:-1}},{Header:"Click to Sort",accessor:"category"},{Header:"Click to Sort",accessor:"status"}];return r.a.createElement("div",{className:"mainView"},r.a.createElement(y,null),r.a.createElement("div",{className:"createView"},r.a.createElement("form",{className:"myformView"},r.a.createElement(d.a,{className:"-striped -highlight textAreaView",data:e,columns:t,defaultSorted:[{id:"this.state.category",desc:!0}]}))))}}var U=()=>{const e=Object(T.c)();Object(s.useEffect)(()=>{e(I())},[]);const t=Object(T.d)(e=>e.statusReducer.data,T.b);return r.a.createElement("div",null,r.a.createElement(w,{data:t}))},C=a(62);var _=()=>r.a.createElement(r.a.Fragment,null,r.a.createElement(o.b,{activeStyle:{textDecoration:"none",color:"white"},className:"signInHeader",exact:!0,to:"/"},"SIGNIN"),r.a.createElement(o.b,{activeStyle:{textDecoration:"none",color:"white"},className:"signUpHeader",exact:!0,to:"/signup"},"SIGNUP"));const D=e=>{console.log("user ",e);const t=e.name,a=e.email,s=e.password;return function(){var e=Object(h.a)(E.a.mark((function e(r){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:"SIGNUP_LOADING"}),e.prev=1,e.next=4,N.a.post("".concat(O,"/signup"),{name:t,email:a,password:s},{headers:f});case 4:if(n=e.sent,console.log("response inside signupaction",n),200!==n.status||!Object.keys(n.data).includes("user")){e.next=11;break}return r({type:"SIGNUP_SUCCESS",data:n.data.user.email}),e.abrupt("return",n.data);case 11:r({type:"SIGNUP_FAILED"});case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(1),r({type:"SIGNUP_FAILED"}),e.abrupt("return",e.t0.response.data);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}()},x=e=>{console.log("user ",e);const t=e.email,a=e.password;return function(){var e=Object(h.a)(E.a.mark((function e(s){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:"SIGNIN_LOADING"}),e.prev=1,e.next=4,N.a.post("".concat(O,"/signin"),{email:t,password:a},{headers:f});case 4:if(r=e.sent,console.log("response inside siginInAction",r),200!==r.status||!Object.keys(r.data).includes("token")||!Object.keys(r.data).includes("userCred")){e.next=11;break}return s({type:"SIGNIN_SUCCESS",data:r.data}),e.abrupt("return",r.data);case 11:s({type:"SIGNIN_FAILED"});case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(1),s({type:"SIGNIN_FAILED"}),e.abrupt("return",e.t0.response.data);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}()},L=(e,t,a)=>{"undefined"!=typeof window&&(localStorage.setItem("jwt",JSON.stringify(e)),localStorage.setItem("signInInfo",JSON.stringify(t)),a())},k=()=>{if("undefined"!==typeof window)return localStorage.removeItem("jwt"),localStorage.removeItem("signInInfo"),fetch("".concat(O,"/signout"),{method:"GET"}).then(e=>e.json()).catch(e=>e)};var G=()=>{const e=Object(l.f)(),t=Object(T.c)(),a=Object(s.useRef)(),n=Object(s.useRef)(),c=Object(s.useRef)();Object(s.useEffect)(()=>{a.current.focus(),k()},[]);const o=Object(s.useState)({password:"",email:"",serverError:"",success:!1,signUpSuccess:!1}),i=Object(C.a)(o,2),u=i[0],m=i[1],d=u.password,p=u.email,g=u.serverError,S=u.success,O=u.signUpSuccess,f=Object(T.d)(e=>e.signUpReducer.success,T.b);console.log("signUpSuccessFromRedux",f),Object(s.useEffect)(()=>{S&&e.push("/view")},[S]),Object(s.useEffect)(()=>{console.log("useeffect is called",O),f&&setTimeout(()=>{t(D({email:p,success:!1}))},2e3),m(Object(b.a)(Object(b.a)({},u),{},{signUpSuccess:f}))},[O]);const v=function(){var e=Object(h.a)(E.a.mark((function e(a){var s,r,n,c,o,l;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),console.log("before dispatch",u),s=u.email,r=u.password,console.log("email,password",s,r),e.next=6,t(x({email:s,password:r}));case 6:n=e.sent,console.log("data back from axios post  for signInAction",n),n.error?m(Object(b.a)(Object(b.a)({},u),{},{serverError:n.error,success:!1})):(c=n.userCred,s=c.email,o=c.name,l=c._id,L(n.token,{name:o,email:s,_id:l},()=>{m({email:s,serverError:!1,success:!0})}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=e=>{const t=e.target,a=t.name,s=t.value;console.log("name and value",a,":",s),m(Object(b.a)(Object(b.a)({},u),{},{[a]:s,serverError:!1,signUpSuccess:!1}))},j=e=>{"Enter"===e.key&&("email"===e.target.name?n.current.focus():"password"===e.target.name&&c.current.focus())};return r.a.createElement("div",{className:"login"},r.a.createElement("form",{onSubmit:v,className:"loginForm"},r.a.createElement(_,null),p.length>0&&r.a.createElement("div",{className:"secondaryBkgLogin"}),r.a.createElement("p",null,"Login"),r.a.createElement("hr",null),r.a.createElement("input",{className:"email",value:p,name:"email",onKeyDown:j,onChange:N,type:"email",ref:a,placeholder:"EMAIL ADDRESS"}),r.a.createElement("input",{className:"passwd",value:d,type:"password",name:"password",onKeyDown:j,onChange:N,ref:n,placeholder:"PASSWORD"}),r.a.createElement("button",{className:"loginBtn",ref:c,onKeyDown:j,onClick:v},"Sign In"),g&&r.a.createElement("div",{className:"signUperror flexStyling"},g),g?void 0:O&&r.a.createElement("div",{className:"signUpsuccess flexStyling"},"SIGNUP SUCCESS. PLEASE SIGNIN NOW")))};var P=()=>{const e=Object(l.f)(),t=Object(T.c)(),a=Object(s.useState)({name:"",password:"",email:"",success:!1,serverError:""}),n=Object(C.a)(a,2),c=n[0],o=n[1],i=Object(s.useRef)(),u=Object(s.useRef)(),m=Object(s.useRef)(),d=Object(s.useRef)(),p=c.name,g=c.password,S=c.email,O=c.success,f=c.serverError;Object(s.useEffect)(()=>{i.current.focus(),k()},[]),Object(s.useEffect)(()=>{O&&e.push("/")},[O]);const v=function(){var e=Object(h.a)(E.a.mark((function e(a){var s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,t(D({name:p,email:S,password:g}));case 3:s=e.sent,console.log("data back from axios post  for signUpAction",s),s.error?o(Object(b.a)(Object(b.a)({},c),{},{serverError:s.error,success:!1})):o(Object(b.a)(Object(b.a)({},c),{},{name:"",email:"",password:"",serverError:"",success:!0}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=e=>{const t=e.target,a=t.name,s=t.value;o(Object(b.a)(Object(b.a)({},c),{},{[a]:s,serverError:!1}))},j=e=>{"Enter"===e.key&&("name"===e.target.name?u.current.focus():"email"===e.target.name?m.current.focus():"email"===e.target.name&&d.current.focus())};return r.a.createElement("div",{className:"login"},r.a.createElement("form",{onSubmit:v,className:"loginForm"},r.a.createElement(_,null),1===p.length&&r.a.createElement("div",{className:"secondaryBkgLogin"}),r.a.createElement("p",null,"Sign-Up"),r.a.createElement("hr",null),r.a.createElement("input",{className:"nameSignup",value:p||"",name:"name",onKeyDown:j,onChange:N,type:"name",ref:i,placeholder:"NAME"}),r.a.createElement("input",{className:"emailSignup",value:S||"",name:"email",onKeyDown:j,onChange:N,type:"email",ref:u,placeholder:"EMAIL ADDRESS"}),r.a.createElement("input",{className:"passwdSignup",value:g||"",type:"password",name:"password",onKeyDown:j,onChange:N,ref:m,placeholder:"PASSWORD"}),r.a.createElement("button",{className:"loginBtnSignup",ref:d,onKeyDown:j,onClick:v},"Sign Up"),f&&r.a.createElement("div",{className:"signUperror flexStyling"},f)))},F=a(153),B=a.n(F);var J=()=>r.a.createElement(o.a,null,r.a.createElement("div",null,r.a.createElement("img",{src:B.a,className:"commonBackground",alt:"background"}),r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/",component:G,exact:!0}),r.a.createElement(l.a,{path:"/create",component:R}),r.a.createElement(l.a,{path:"/signup",component:P}),r.a.createElement(l.a,{path:"/view",component:U})))),W=(a(295),a(296),a(38)),K=a(154);const H={email:"",success:!1,loading:!1,error:null,token:null,name:""},M={email:"",loading:!1,error:null,success:!1},V={loading:!1,error:null,success:!1,data:[]},z=Object(W.c)({statusReducer:(e=V,t)=>{switch(console.log("action.data inside statusReducer",t.data),t.type){case"STATUS_REP_LOADING":return Object(b.a)(Object(b.a)({},e),{},{loading:!0,error:null,success:!1});case"STATUS_REP_SUCCESS":return Object(b.a)(Object(b.a)({loading:!1,error:null,success:!0},e),{},{data:[...t.data]});case"STATUS_REP_FAILURE":return Object(b.a)(Object(b.a)({},e),{},{loading:!1,error:!0,success:!1});case"GET_ALL_STATUS_REP_LOADING":return Object(b.a)(Object(b.a)({},e),{},{loading:!0,error:null,success:!1});case"GET_ALL_STATUS_REP_SUCCESS":return console.log("action.data in GET_ALL_STATUS_REP_SUCCESS",t.data),Object(b.a)(Object(b.a)({loading:!1,error:null,success:!0},e),{},{data:[...t.data]});case"GET_ALL_STATUS_REP_FAILURE":return Object(b.a)(Object(b.a)({},e),{},{loading:!1,error:!0,success:!1});default:return e}},signInReducer:(e=H,t)=>{switch(t.type){case"SIGNIN_LOADING":return Object(b.a)(Object(b.a)({},e),{},{loading:!0,error:null,success:!1});case"SIGNIN_SUCCESS":return console.log("data from axios post inside signInReducer",t.data),Object(b.a)(Object(b.a)({},e),{},{token:t.data.token,email:t.data.userCred.email,name:t.data.userCred.name,loading:!1,error:null,success:!0});case"SIGNIN_FAILED":return Object(b.a)(Object(b.a)({},e),{},{loading:!1,error:!0,success:!1});default:return e}},signUpReducer:(e=M,t)=>{switch(t.type){case"SIGNUP_LOADING":return Object(b.a)(Object(b.a)({},e),{},{loading:!0,error:null,success:!1});case"SIGNUP_SUCCESS":return console.log("data from axios post inside signUpReducer",t.data),Object(b.a)(Object(b.a)({},e),{},{email:t.data,loading:!1,error:null,success:!0});case"SIGNUP_FAILED":return Object(b.a)(Object(b.a)({},e),{},{loading:!1,error:!0,success:!1});default:return e}}}),q=Object(W.d)(z,Object(W.a)(K.a));q.subscribe(()=>{console.log("LATEST STATE AFTER STATE UPDATE INSIDE STORE",q.getState())});var Q=q;const X=r.a.createElement(T.a,{store:Q},r.a.createElement(J,null));c.a.render(X,document.getElementById("app"))}},[[155,1,2]]]);
//# sourceMappingURL=main.f7d88dfb.chunk.js.map